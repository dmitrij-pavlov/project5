<!DOCTYPE HTML>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Игра</title>

<link href="style.css" rel="stylesheet">
</head>
<body>
<h1>Холодное оружие</h1>

<div class="sunsistem">
	<img src="images/phon.jpg">
</div>

<span class="planeti" >
	<img id="katana" src="images/2.png" width="40" height="35">
	<img id="sword" src="images/1.png" width="60" height="50">
	<img id="blade" src="images/3.png" width="80" height="55">
	<img id="saber" src="images/4.png" width="55" height="50">
	<img id="cartoon_sword" src="images/5.png" width="55" height="40">
	<img id="mini_spear" src="images/6.png" width="70" height="70">
	<img id="long_sword" src="images/7.png" width="90" height="65">
	<img id="knife" src="images/8.png" width="55" height="40">
	<img id="spear" src="images/9.png" width="55" height="40">
	<img id="axe" src="images/10.png" width="55" height="40">
	<img id="jagged_sword" src="images/11.png" width="55" height="40">
	<img id="scissors" src="images/12.png" width="65" height="50">
	<img id="double_axe" src="images/13.png" width="52" height="37">
	<img id="machete" src="images/14.png" width="55" height="40">
	<img id="stone_spear" src="images/15.png" width="55" height="40">
</span>

<span id="message"></span>

</body>
</html>

<script type="text/javascript">

"use strict";

const MASSIV = [
	"katana",
	"sword",
	"blade",
	"saber",
	"cartoon_sword",
	"mini_spear",
	"long_sword",
	"knife",
	"spear",
	"axe",
	"jagged_sword",
	"scissors",
	"double_axe" ,
	"machete",
	"stone_spear"
	
];

// https://stackoverflow.com/a/2450976
const shuffle = array => {
	let currentIndex = array.length, randomIndex;

	// While there remain elements to shuffle.
	while (currentIndex !== 0) {

		// Pick a remaining element.
		randomIndex = Math.floor(Math.random() * currentIndex);
		currentIndex--;

		// And swap it with the current element.
		[array[currentIndex], array[randomIndex]] = [
		array[randomIndex], array[currentIndex]];
		}

	return array;
}

const shuffledObjects = shuffle(MASSIV);
let currentIndex = 0;

const addEventListener = () => {
	if (currentIndex >= shuffledObjects.length) {
		document.getElementById("message").innerText = "Вы прошли игру!";
		return;
		}

	document.getElementById("message").innerText = "Найди холодное оружие " + shuffledObjects[currentIndex];

	document.getElementById(shuffledObjects[currentIndex]).addEventListener('click', function (event) {
			event.preventDefault();

			this.style.opacity = '0';
			this.style.transition = '0.5s';

			++currentIndex;

			addEventListener();
		});
};

addEventListener();

</script>